apiVersion: config.terraform.padok.cloud/v1alpha1
kind: TerraformRepository
metadata:
  labels:
    app.kubernetes.io/instance: in-cluster-burrito
  name: repository-secret-present
  namespace: default
spec:
  overrideRunnerSpec:
    imagePullSecrets:
    - name: ghcr-creds
  repository:
    url: git@github.com:padok-team/burrito.git
  terraform:
    enabled: true
---
apiVersion: config.terraform.padok.cloud/v1alpha1
kind: TerraformRepository
metadata:
  labels:
    app.kubernetes.io/instance: in-cluster-burrito
  name: repository-secret-not-present
  namespace: default
spec:
  overrideRunnerSpec:
    imagePullSecrets:
    - name: ghcr-creds
  repository:
    url: git@github.com:padok-team/not-present.git
  terraform:
    enabled: true
---
apiVersion: config.terraform.padok.cloud/v1alpha1
kind: TerraformRepository
metadata:
  labels:
    app.kubernetes.io/instance: in-cluster-burrito
  name: no-secret-present
  namespace: default
spec:
  overrideRunnerSpec:
    imagePullSecrets:
    - name: ghcr-creds
  repository:
    url: git@gitlab.com:padok-team/not-present.git
  terraform:
    enabled: true
---
apiVersion: config.terraform.padok.cloud/v1alpha1
kind: TerraformRepository
metadata:
  labels:
    app.kubernetes.io/instance: in-cluster-burrito
  name: not-allowed-secret
  namespace: default
spec:
  overrideRunnerSpec:
    imagePullSecrets:
    - name: ghcr-creds
  repository:
    url: git@gitlab.com:padok-team/not-present.git
  terraform:
    enabled: true
---
apiVersion: config.terraform.padok.cloud/v1alpha1
kind: TerraformRepository
metadata:
  labels:
    app.kubernetes.io/instance: in-cluster-burrito
  name: two-shared-secret-match
  namespace: default
spec:
  overrideRunnerSpec:
    imagePullSecrets:
    - name: ghcr-creds
  repository:
    url: git@mat.com:padok-team/two-shared-secret.git
  terraform:
    enabled: true
